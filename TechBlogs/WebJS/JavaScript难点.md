## JavaScript难点

JavaScript为什么这么复杂？为什么有回调，Promise，闭包诸如此类其他语言没有的东西？ 因为它是一门为了应对异步问题的语言。众所周知，JavaScript多用于网络编程（的后端）,网络编程为了应对耗时的网络通信，不能按程序一行行顺序执行。试想，如果有一行发起一个网络请求，耗时1s，但这一行并不影响下几行的执行，那么难道要等1s才执行下一行？另一种情况是，10行都发起网络请求，各耗时1s，难道要用10s一行一行地执行？因此我们需要的是在发起网络请求的时候同时往下执行。这种异步性正是JS的独特性。可以说我用Python写的东西，C都能写，无非是多一点，但是JS轻松处理的的东西，其他语言要实现就得难上天。

## 回调函数





## 闭包

#### var that = this

我在小程序开发中最开始遇到的最大的困难，是如何在A函数的回调函数B中给A外面的一个json赋值。如果直接用this.setData 会报错 

![1575612446676](C:\Users\39616\AppData\Local\Temp\1575612446676.png)

其实是可以理解的this当然指代这个回调函数B，没有理由认为会获得A外面的函数。解决这个问题很简单

在A外面写 

```javascript
var that = this
```

这时候在B里面虽然 this变了，但是that 没有变，还是外面那个变量。

更深层的原因则是

#### 闭包



## Promise

